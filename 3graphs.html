<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>3 Extra Graphs</title>
    <link href="assets/stylesheets/style.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <script type="text/javascript" src="sound-mouseover.js"></script>
    <script src='https://code.responsivevoice.org/responsivevoice.js'></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
 <script>
function renderChart() {

var data = d3.csv.parse(d3.select('#csv').text());
var valueLabelWidth = 40; // space reserved for value labels (right)
var barHeight = 20; // height of one bar
var barLabelWidth = 100; // space reserved for bar labels
var barLabelPadding = 5; // padding between bar and bar labels (left)
var gridLabelHeight = 18; // space reserved for gridline labels
var gridChartOffset = 3; // space between start of grid and first bar
var maxBarWidth = 420; // width of the bar with the max value
 
// accessor functions 
var barLabel = function(d) { return d['Name']; };
var barValue = function(d) { return parseFloat(d['years']); };
 
// sorting
var sortedData = data.sort(function(a, b) {
  return d3.ascending(barValue(a), barValue(b)); 
}); 

// scales
var yScale = d3.scale.ordinal().domain(d3.range(0, sortedData.length)).rangeBands([0, sortedData.length * barHeight]);
var y = function(d, i) { return yScale(i); };
var yText = function(d, i) { return y(d, i) + yScale.rangeBand() / 2; };
var x = d3.scale.linear().domain([0, d3.max(sortedData, barValue)]).range([0, maxBarWidth]);
// svg container element
var chart = d3.select('#chart').append("svg")
  .attr('width', maxBarWidth + barLabelWidth + valueLabelWidth)
  .attr('height', gridLabelHeight + gridChartOffset + sortedData.length * barHeight);
// grid line labels
var gridContainer = chart.append('g')
  .attr('transform', 'translate(' + barLabelWidth + ',' + gridLabelHeight + ')'); 
gridContainer.selectAll("text").data(x.ticks(10)).enter().append("text")
  .attr("x", x)
  .attr("dy", -3)
  .attr("text-anchor", "middle")
  .text(String);
// vertical grid lines
gridContainer.selectAll("line").data(x.ticks(10)).enter().append("line")
  .attr("x1", x)
  .attr("x2", x)
  .attr("y1", 0)
  .attr("y2", yScale.rangeExtent()[1] + gridChartOffset)
  .style("stroke", "#ccc");
// bar labels
var labelsContainer = chart.append('g')
  .attr('transform', 'translate(' + (barLabelWidth - barLabelPadding) + ',' + (gridLabelHeight + gridChartOffset) + ')'); 
labelsContainer.selectAll('text').data(sortedData).enter().append('text')
  .attr('y', yText)
  .attr('stroke', 'none')
  .attr('fill', 'black')
  .attr("dy", ".35em") // vertical-align: middle
  .attr('text-anchor', 'end')
  .text(barLabel);
// bars
var barsContainer = chart.append('g')
  .attr('transform', 'translate(' + barLabelWidth + ',' + (gridLabelHeight + gridChartOffset) + ')'); 
barsContainer.selectAll("rect").data(sortedData).enter().append("rect")
  .attr('y', y)
  .attr('height', yScale.rangeBand())
  .attr('width', function(d) { return x(barValue(d)); })
  .attr('stroke', 'white')
  .attr('fill', 'steelblue');
// bar value labels
barsContainer.selectAll("text").data(sortedData).enter().append("text")
  .attr("x", function(d) { return x(barValue(d)); })
  .attr("y", yText)
  .attr("dx", 3) // padding-left
  .attr("dy", ".35em") // vertical-align: middle
  .attr("text-anchor", "start") // text-align: right
  .attr("fill", "black")
  .attr("stroke", "none")
  .text(function(d) { return d3.round(barValue(d), 2); });
// start line
barsContainer.append("line")
  .attr("y1", -gridChartOffset)
  .attr("y2", yScale.rangeExtent()[1] + gridChartOffset)
  .style("stroke", "#000");

}
    </script>
    <script id="csv" type="text/csv">Name,years,
Belgium,63.8
Bulgaria, 67.5
Czechia, 64
Denamark, 60.3
Germany, 67.3
Estonia, 59
Ireland, 69.8
Greece,64.7
Spain,66.5
France, 64.1
Croatia, 58.7
Italy, 67.2
Cyprus, 68.8
Latvia, 54.9
Lithuania, 59.4
Luxembourg, 58.9
Hungary, 60.2
Malta, 72.4
Netherlands, 57.8
Austria, 57.1
Poland, 64.6
Portugal, 57.4
Romania, 59
Slovenia, 57.9
Slovakia, 57
Finland, 57
Sweden, 73.3
United Kingdom, 63.1
Iceland, 66.1
Norway, 67.8
Switzerland, 57.7</script>
	
    <script type="text/javascript">  
	    google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(draw1st);
      function draw1st() {
        // Some raw data (not necessarily accurate)
        var data = google.visualization.arrayToDataTable([
          ['Year', 'Italy', 'Greece', 'Sweden', 'Spain', 'France', 'Average'],
          ['2013',  157521 ,  	33657 ,     4261,   46488,   28246,         54034],     
          ['2014',  158412 ,     34522,     4269,   47689,   28895,         54757],
          ['2015',  167697,      34681,     4184,   48328,   30045,         56987],
          ['2016',  178449 ,      34665,    4187,   48701,   30047,         59210],
          ['2017',  204903,      35719,     4222,   50518,   29835,         65039]
        ]);
        var options = {
          title : 'Number of establishments and bed-places',
          vAxis: {title: 'Establishments'},
          hAxis: {title: 'Year'},
          seriesType: 'bars',
          series: {5: {type: 'line'}}
        };
        var chart = new google.visualization.ComboChart(document.getElementById('graphone'));
        chart.draw(data, options);
      } 
	    
      google.charts.setOnLoadCallback(draw2nd);
      function draw2nd() {
        // Some raw data (not necessarily accurate)
        var data = google.visualization.arrayToDataTable([
          ['Year', 'Italy', 'Greece', 'Sweden', 'Spain', 'France', 'Average'],
	  ['2012',   61.5 ,    64.9 ,    65.7 ,   65.8 ,    63.8 ,    64.34 ],   
          ['2013',   60.9 ,    65.1 ,    66.0 ,   63.9 ,    64.4 ,    64.06 ],     
          ['2014',   62.3 ,    64.8 ,    73.6 ,   65.0 ,    64.2 ,    65.98 ],
          ['2015',   62.7 ,    64.1 ,    73.8 ,   64.1 ,    64.6 ,    65.86 ],
          ['2016',   67.2 ,    64.7 ,    73.3 ,   66.5 ,    64.1 ,    67.16 ]
        ]);
        var options = {
          title : 'Healthy life years (Female)',
          vAxis: {title: 'Life Expectancy'},
          hAxis: {title: 'Year'},
          seriesType: 'bars',
          series: {5: {type: 'line'}}
        };
        var chart = new google.visualization.ComboChart(document.getElementById('graphtwo'));
        chart.draw(data, options);
      } 
	    
 google.charts.setOnLoadCallback(draw3rd);
      function draw3rd() {
        // Some raw data (not necessarily accurate)
        var data = google.visualization.arrayToDataTable([
          ['Year', 'Italy', 'Greece', 'Sweden', 'Spain', 'France', 'Average'],
	  ['2008',      2 ,       2 ,     1.7 ,    1.4 ,     1.5 ,     1.72 ],   
          ['2009',      2 ,       2 ,     1.7 ,    1.4 ,     1.5 ,     1.72 ],     
          ['2010',      2 ,       2 ,     1.8 ,    1.4 ,     1.5 ,     1.74 ],
          ['2011',      2 ,     1.9 ,     1.8 ,    1.4 ,     1.5 ,     1.72 ],
          ['2012',      2 ,     1.9 ,     1.9 ,    1.4 ,     1.5 ,     1.74 ]
        ]);
        var options = {
          title : 'Healthy life years (Female)',
          vAxis: {title: 'Average Number of Languages'},
          hAxis: {title: 'Year'},
          seriesType: 'bars',
          series: {5: {type: 'line'}}
        };
        var chart = new google.visualization.ComboChart(document.getElementById('graphthree'));
        chart.draw(data, options);
      } 
</script>

</head>
  <header>
       <nav>
    <ul>
      <li><a href="index.html" onmouseover="playclip();">Back</a></li>
    <ul>
        </nav>
    </header>
<body>
	   <h1 class="title" onmouseover="responsiveVoice.speak('3 Extra Graphs','US English Male');" onmouseleave="responsiveVoice.cancel();">3 Extra Graphs</h1>

       <div class="hide" id="nw">
	
	    <h2 class="subtitle" onmouseover="responsiveVoice.speak('Graph 1','US English Male');" onmouseleave="responsiveVoice.cancel();">Graph 1</h2>
	<center>
	<div id="graphone" style="width: 900px; height: 500px;"></div>
	  
	       
	       
     <h2 class="subtitle" onmouseover="responsiveVoice.speak('Graph 2','US English Male');" onmouseleave="responsiveVoice.cancel();">Graph 2</h2>
	
	<div id="graphtwo" style="width: 900px; height: 500px;"></div>
		
    <h2 class="subtitle" onmouseover="responsiveVoice.speak('Graph 3','US English Male');" onmouseleave="responsiveVoice.cancel();">Graph 3</h2>
	
	<div id="graphthree" style="width: 900px; height: 500px;"></div>
		
	<script>renderChart();</script>
	       </center>

<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script type="text/javascript" src="assets/scripts/sound-mouseover.js"></script>
<script src='https://code.responsivevoice.org/responsivevoice.js'></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<script>
    $( document ).ready(function() {
      $(window).scroll(function(){
        if ($(window).scrollTop() >= 300) {
           $('nav').addClass('fixed-header');
        }
        else {
           $('nav').removeClass('fixed-header');
        }
    });
});

/* scrollTop() >= 240
   Should be equal the the height of the header
 */
	
  

</script>
	
<audio>
<source src="assets/sound/click.mp3">
<source src="assets/sound/click.ogg">
</audio>
<div id="sounddiv"><bgsound id="sound"></div>
	
</body>
	
</html>
